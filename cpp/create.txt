DROP TABLE IF EXISTS PLAYER;
DROP TABLE IF EXISTS TEAM;
DROP TABLE IF EXISTS STATE;
DROP TABLE IF EXISTS COLOR;

CREATE TABLE COLOR (
    COLOR_ID SERIAL,
    NAME VARCHAR(256),
    CONSTRAINT COLORPK PRIMARY KEY (COLOR_ID)
);

CREATE TABLE STATE (
    STATE_ID SERIAL,
    NAME VARCHAR(256),
    CONSTRAINT STATEPK PRIMARY KEY (STATE_ID)
);

CREATE TABLE TEAM (
    TEAM_ID SERIAL,
    NAME VARCHAR(256),
    STATE_ID INT,
    COLOR_ID INT,
    WINS INT,
    LOSSES INT,
    CONSTRAINT TEAMPK PRIMARY KEY (TEAM_ID),
    CONSTRAINT STATEFK FOREIGN KEY (STATE_ID) REFERENCES STATE(STATE_ID) ON DELETE SET NULL ON UPDATE CASCADE,
    CONSTRAINT COLORFK FOREIGN KEY (COLOR_ID) REFERENCES COLOR(COLOR_ID) ON DELETE SET NULL ON UPDATE CASCADE
);

CREATE TABLE PLAYER (
    PLAYER_ID SERIAL,
    TEAM_ID INT,
    UNIFORM_NUM INT,
    FIRST_NAME VARCHAR(256),
    LAST_NAME VARCHAR(256),
    MPG INT,
    PPG INT,
    RPG INT,
    APG INT,
    SPG float8,
    BPG float8,
    CONSTRAINT PLAYERPK PRIMARY KEY (PLAYER_ID),
    CONSTRAINT TEAMFK FOREIGN KEY (TEAM_ID) REFERENCES TEAM(TEAM_ID) ON DELETE SET NULL ON UPDATE CASCADE
);